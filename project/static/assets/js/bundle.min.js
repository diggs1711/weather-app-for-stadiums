!function(e){function n(i){if(t[i])return t[i].exports;var a=t[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var t={};n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){!function(){"use strict";var e=t(1),n=t(2),i=t(3),a=t(5),r={pubSub:e,stadiums:n,inputSearchString:null,searchString:"",map:i,markers:[],run:function(){this.init(),this.stadiums.fetchStadiums()},init:function(){this.initEle(),this.initEvents(),this.map.init()},initEle:function(){this.inputSearchString=document.querySelector(".searchString")},initEvents:function(){var e=this;this.inputSearchString.addEventListener("keyup",e.filterCities.bind(e))},filterCities:function(){this.searchString=this.inputSearchString.value;var n=this,t=this.map.markers.filter(function(e){var t=e.I.name;if(t)var i=t.toLowerCase().indexOf(n.searchString.toLowerCase())>-1;return i||null});e.publish("inputSearch",t)}};e.subscribe("stadiumsLoaded",a.render,a),e.subscribe("addMarkersToMap",i.addMarkersToMap,i),e.subscribe("addMarker",i.addMarker,i),e.subscribe("inputSearch",i.filterMap,i),r.run()}()},function(e,n){!function(){"use strict";var n={events:[],publish:function(e,n){this.events.map(function(t){t.eve===e&&t.fn.call(t.scope,n)})},subscribe:function(e,n,t){this.events.push({eve:e,fn:n,scope:t})}};e.exports=n}()},function(e,n,t){!function(){"use strict";var n=t(1),i={pubSub:n,init:function(){},stadiums:{},getStadiums:function(){return this.stadiums},fetchStadiums:function(){n.publish("loadingStadiums",""),$.ajax({url:"stadiums.json",dataType:"json",success:function(e){i=e,n.publish("stadiumsLoaded",e)}.bind(this),error:function(e,n,t){console.log("An error ("+n+") occured:",t.toString())}.bind(this)})}};e.exports=i}()},function(e,n,t){!function(){"use strict";var n=t(4),i={markers:[],vectorLayer:null,mapLayer:null,osmLayer:null,emptyLayer:null,cloudLayer:null,filteredMarkers:[],init:function(){this.initElements(),this.initMapLayers()},initElements:function(){this.mapLayer=new ol.Map({target:"map",layers:[],view:new ol.View({center:ol.proj.fromLonLat([2.3522,48.8566]),zoom:4})}),this.emptyLayer=new ol.layer.Vector({source:new ol.source.Vector({features:[]})})},initMapLayers:function(){this.initLayerOSM(),this.initCloudLayers(),this.mapLayer.addLayer(this.osmLayer),this.mapLayer.addLayer(this.cloudLayer)},initLayerOSM:function(){this.osmLayer=new ol.layer.Tile({source:new ol.source.OSM})},initCloudLayers:function(){this.cloudLayer=new ol.layer.Tile({title:"Clouds",source:new ol.source.XYZ({url:"http://maps.owm.io:8099/58e4198ae158e70001eb97f9/{z}/{x}/{y}?hash=1801cf76b88ae491674d97d8cae66107"})})},addMarker:function(e){var n=e[1],t=e[0],i=e[2],a=e[3],r=new ol.Feature({team:a,name:i,geometry:new ol.geom.Point(ol.proj.transform([t,n],"EPSG:4326","EPSG:3857"))});this.markers.push(r)},addMarkersToMap:function(){this.vectorLayer=new ol.layer.Vector({source:new ol.source.Vector({features:this.markers}),style:function(e){var t=e.get("team").toString().trim();return n[t]}}),this.mapLayer.addLayer(this.vectorLayer)},filterMap:function(e){this.filteredMarkers=e,this.clearLayer(),this.addFilteredMarkers()},addFilteredMarkers:function(){this.vectorLayer.getSource().addFeatures(this.filteredMarkers),this.mapLayer.render(),this.mapLayer.updateSize()},clearLayer:function(){this.vectorLayer.getSource().clear()},styles:{route:new ol.style.Style({stroke:new ol.style.Stroke({width:6,color:[237,212,0,.8]})}),icon:new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],size:[300,300],scale:.07,src:"../static/images/Leeds_United_Logo.png"})}),geoMarker:new ol.style.Style({image:new ol.style.Circle({radius:7,snapToPixel:!1,fill:new ol.style.Fill({color:"black"}),stroke:new ol.style.Stroke({color:"white",width:2})})})},markerFactory:function(e){e.forEach(function(e){new ol.Feature({type:"icon",geometry:new ol.geom.Point(ol.proj.transform([-9,53],"EPSG:4326","EPSG:3857"))})})}};e.exports=i}()},function(e,n){var t={"Manchester United":new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],size:[400,400],scale:.0525,src:"../static/images/Manchester United.png"})}),Arsenal:new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],size:[1e3,1e3],scale:.021,src:"../static/images/Arsenal.png"})}),Liverpool:new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],size:[1e3,1e3],scale:.021,src:"../static/images/Liverpool.png"})}),Southampton:new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],size:[1e3,1e3],scale:.021,src:"../static/images/Southampton.png"})}),"Swansea City":new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],size:[1e3,1e3],scale:.021,src:"../static/images/Swansea City.png"})})};e.exports=t},function(e,n,t){!function(){var n=t(1),i=t(6),a={stadiumList:null,init:function(){this.initElements()},initElements:function(){this.stadiumList=document.querySelector(".stadium-list")},createWeatherInfoElement:function(e){var n=document.createElement("li");n.className="list-group-item text-center";var t=document.createElement("p");t.className="h3 text-center";var i=document.createElement("p");i.className="h1 text-center";var a=document.createElement("p"),r=document.createElement("div");for(var l in e){var o=document.createElement("span");if(e.hasOwnProperty(l)){if("longitude"!==String(l)&&"latitude"!==String(l)){if("team"===String(l)&&(o.innerText=e[l],t.appendChild(o)),"temp"===String(l)){console.log(e.code);var s=document.createElement("i"),c=this.addWeatherIcon(e.code);s.className=c,o.className="pull-left col-md-4 temp",o.innerText=e[l]+"Â°",o.appendChild(s),i.appendChild(o)}"wind_speed"===String(l)&&(o.className="pull-right col-md-4 wind-speed",o.innerText=e[l]+"m/s",i.appendChild(o)),"status"===String(l)&&(a.innerText=e[l])}var u="url('../static/images/"+String(e.team).trim()+".png')";r.style.backgroundImage=u,r.className="thumbnail"}}return i.appendChild(r),n.appendChild(t),n.appendChild(i),n.appendChild(a),this.addMarker(e.longitude,e.latitude,e.city,e.team),n},addWeatherIcon:function(e){var n=e,t=i[n].icon;return n>699&&n<800||n>899&&n<1e3||(t="day-"+t),"wi wi-"+t+" col-md-12"},addWindLabel:function(e){var n=document.createElement("span");return e<=5?(n.innerText="Calm",n.className="label label-info"):e>5&&e<=15?(n.innerText="Strong Breeze",n.className="label label-success"):e>15&&e<=25?(n.innerText="Strong Gale",n.className="label label-warning"):e>25&&(n.innerText="Stormy",n.className="label label-danger"),n},render:function(e){var n=this;e.stadiums.map(function(e){var t=n.createWeatherInfoElement(e);n.stadiumList.appendChild(t)}),this.addMarkersToMap()},addMarkersToMap:function(){n.publish("addMarkersToMap","")},addMarker:function(e,t,i,a){n.publish("addMarker",[e,t,i,a])}};a.init(),e.exports=a}()},function(e,n){var t={200:{label:"thunderstorm with light rain",icon:"storm-showers"},201:{label:"thunderstorm with rain",icon:"storm-showers"},202:{label:"thunderstorm with heavy rain",icon:"storm-showers"},210:{label:"light thunderstorm",icon:"storm-showers"},211:{label:"thunderstorm",icon:"thunderstorm"},212:{label:"heavy thunderstorm",icon:"thunderstorm"},221:{label:"ragged thunderstorm",icon:"thunderstorm"},230:{label:"thunderstorm with light drizzle",icon:"storm-showers"},231:{label:"thunderstorm with drizzle",icon:"storm-showers"},232:{label:"thunderstorm with heavy drizzle",icon:"storm-showers"},300:{label:"light intensity drizzle",icon:"sprinkle"},301:{label:"drizzle",icon:"sprinkle"},302:{label:"heavy intensity drizzle",icon:"sprinkle"},310:{label:"light intensity drizzle rain",icon:"sprinkle"},311:{label:"drizzle rain",icon:"sprinkle"},312:{label:"heavy intensity drizzle rain",icon:"sprinkle"},313:{label:"shower rain and drizzle",icon:"sprinkle"},314:{label:"heavy shower rain and drizzle",icon:"sprinkle"},321:{label:"shower drizzle",icon:"sprinkle"},500:{label:"light rain",icon:"rain"},501:{label:"moderate rain",icon:"rain"},502:{label:"heavy intensity rain",icon:"rain"},503:{label:"very heavy rain",icon:"rain"},504:{label:"extreme rain",icon:"rain"},511:{label:"freezing rain",icon:"rain-mix"},520:{label:"light intensity shower rain",icon:"showers"},521:{label:"shower rain",icon:"showers"},522:{label:"heavy intensity shower rain",icon:"showers"},531:{label:"ragged shower rain",icon:"showers"},600:{label:"light snow",icon:"snow"},601:{label:"snow",icon:"snow"},602:{label:"heavy snow",icon:"snow"},611:{label:"sleet",icon:"sleet"},612:{label:"shower sleet",icon:"sleet"},615:{label:"light rain and snow",icon:"rain-mix"},616:{label:"rain and snow",icon:"rain-mix"},620:{label:"light shower snow",icon:"rain-mix"},621:{label:"shower snow",icon:"rain-mix"},622:{label:"heavy shower snow",icon:"rain-mix"},701:{label:"mist",icon:"sprinkle"},711:{label:"smoke",icon:"smoke"},721:{label:"haze",icon:"day-haze"},731:{label:"sand, dust whirls",icon:"cloudy-gusts"},741:{label:"fog",icon:"fog"},751:{label:"sand",icon:"cloudy-gusts"},761:{label:"dust",icon:"dust"},762:{label:"volcanic ash",icon:"smog"},771:{label:"squalls",icon:"day-windy"},781:{label:"tornado",icon:"tornado"},800:{label:"clear sky",icon:"sunny"},801:{label:"few clouds",icon:"cloudy"},802:{label:"scattered clouds",icon:"cloudy"},803:{label:"broken clouds",icon:"cloudy"},804:{label:"overcast clouds",icon:"cloudy"},900:{label:"tornado",icon:"tornado"},901:{label:"tropical storm",icon:"hurricane"},902:{label:"hurricane",icon:"hurricane"},903:{label:"cold",icon:"snowflake-cold"},904:{label:"hot",icon:"hot"},905:{label:"windy",icon:"windy"},906:{label:"hail",icon:"hail"},951:{label:"calm",icon:"sunny"},952:{label:"light breeze",icon:"cloudy-gusts"},953:{label:"gentle breeze",icon:"cloudy-gusts"},954:{label:"moderate breeze",icon:"cloudy-gusts"},955:{label:"fresh breeze",icon:"cloudy-gusts"},956:{label:"strong breeze",icon:"cloudy-gusts"},957:{label:"high wind, near gale",icon:"cloudy-gusts"},958:{label:"gale",icon:"cloudy-gusts"},959:{label:"severe gale",icon:"cloudy-gusts"},960:{label:"storm",icon:"thunderstorm"},961:{label:"violent storm",icon:"thunderstorm"},962:{label:"hurricane",icon:"cloudy-gusts"}};e.exports=t}]);