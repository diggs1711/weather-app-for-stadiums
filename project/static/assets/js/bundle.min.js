!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){!function(){"use strict";var e=n(1),t=n(2),i=n(3),r={pubSub:e,stadiums:t,stadiumList:null,loadingEle:null,inputSearchString:null,searchString:"",map:i,markers:[],run:function(){this.init(),this.stadiums.fetchStadiums()},init:function(){this.initEle(),this.initEvents(),this.map.init()},initEle:function(){this.stadiumList=document.querySelector(".stadium-list"),this.loadingEle=document.querySelector(".loading"),this.inputSearchString=document.querySelector(".searchString")},initEvents:function(){var e=this;this.inputSearchString.addEventListener("keyup",e.filterCities.bind(e))},filterCities:function(){this.searchString=this.inputSearchString.value;var t=this,n=this.map.markers.filter(function(e){return e.I.name.toLowerCase().indexOf(t.searchString.toLowerCase())>-1});e.publish("inputSearch",n),console.log(n)},render:function(e){var t=this,n=e.stadiums;this.loadingEle.classList.add("hidden"),n.map(function(e){var n=t.createWeatherInfoElement(e);t.stadium,t.stadiumList.appendChild(n)})},createWeatherInfoElement:function(e){var t=document.createElement("tr");for(var n in e)if(e.hasOwnProperty(n)&&"longitude"!==n&&"latitude"!==n){var i=document.createElement("td");i.innerText=e[n],t.appendChild(i)}return this.addMarker(e.longitude,e.latitude,e.city),this.addMarkersToMap(),t},addMarker:function(t,n,i){e.publish("addMarker",[t,n,i])},addMarkersToMap:function(){e.publish("addMarkersToMap","")},loadingElement:function(){this.loadingEle.classList.remove("hidden")}};e.subscribe("stadiumsLoaded",r.render,r),e.subscribe("addMarkersToMap",i.addMarkersToMap,i),e.subscribe("loadingStadiums",r.loadingElement,r),e.subscribe("addMarker",i.addMarker,i),e.subscribe("inputSearch",i.removeLayer,i),r.run()}()},function(e,t){!function(){"use strict";var t={events:[],publish:function(e,t){this.events.map(function(n){n.eve===e&&n.fn.call(n.scope,t)})},subscribe:function(e,t,n){this.events.push({eve:e,fn:t,scope:n})}};e.exports=t}()},function(e,t,n){!function(){"use strict";var t=n(1),i={pubSub:t,init:function(){},stadiums:{},getStadiums:function(){return this.stadiums},fetchStadiums:function(){t.publish("loadingStadiums",""),$.ajax({url:"stadiums.json",dataType:"json",success:function(e){i=e,t.publish("stadiumsLoaded",e)}.bind(this),error:function(e,t,n){console.log("An error ("+t+") occured:",n.toString())}.bind(this)})}};e.exports=i}()},function(e,t){!function(){"use strict";var t={markers:[],vectorLayer:null,mapLayer:null,init:function(){this.initElements()},initElements:function(){this.mapLayer=new ol.Map({target:"map",layers:[new ol.layer.Tile({source:new ol.source.OSM})],view:new ol.View({center:ol.proj.fromLonLat([2.3522,48.8566]),zoom:4})})},addMarker:function(e){var t=e[1],n=e[0],i=e[2],r=new ol.Feature({type:"icon",name:i,geometry:new ol.geom.Point(ol.proj.transform([n,t],"EPSG:4326","EPSG:3857"))});this.markers.push(r)},addMarkersToMap:function(){var e=this;this.vectorLayer=new ol.layer.Vector({source:new ol.source.Vector({features:this.markers}),style:function(t){return e.styles[t.get("type")]}}),this.mapLayer.addLayer(this.vectorLayer)},removeLayer:function(){this.mapLayer.removeLayer(this.vectorLayer)},styles:{route:new ol.style.Style({stroke:new ol.style.Stroke({width:6,color:[237,212,0,.8]})}),icon:new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],src:"https://openlayers.org/en/v4.0.1/examples/data/icon.png"})}),geoMarker:new ol.style.Style({image:new ol.style.Circle({radius:7,snapToPixel:!1,fill:new ol.style.Fill({color:"black"}),stroke:new ol.style.Stroke({color:"white",width:2})})})},markerFactory:function(e){e.forEach(function(e){new ol.Feature({type:"icon",geometry:new ol.geom.Point(ol.proj.transform([-9,53],"EPSG:4326","EPSG:3857"))})})}};e.exports=t}()}]);