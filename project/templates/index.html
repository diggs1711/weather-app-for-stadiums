<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <title>Stadium Weather</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- styles -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='bower_components/bootstrap/dist/css/bootstrap.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://openlayers.org/en/v4.0.1/css/ol.css" type="text/css">
</head>

<body>
    <nav class="navbar navbar-inverse">
        <!-- Navbar content -->
        <div class="container-fluid">
            <form class="navbar-form navbar-left">
                <div class="input-group">
                    <input type="text" class="form-control searchString" placeholder="Search">
                    <div class="input-group-btn">
                        <button class="btn btn-default" type="button">
                            <i class="glyphicon glyphicon-search"></i>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </nav>
    <div id="main container">
        <div class="search container">
            <div class="container">
                <div class="col-md-12 row">
                    <div id="map" class="map"></div>
                </div>
                <div class="col-md-12 row">
                    <table class="table stadium-list">
                        <thead class="thead-inverse">
                            <tr>
                                <th>Capcity</th>
                                <th>City</th>
                                <th>Team</th>
                                <th>Temp (C)</th>
                                <th>Wind (m/s)</th>
                            </tr>
                            <div class="loading hidden">
                                <div class="spinner">
                                </div>
                                <p class="row">Loading Stadiums</p>
                            </div>
                        </thead>
                    </table>
                </div>

            </div>
        </div>
    </div>
    <!-- scripts -->
    <script src="https://openlayers.org/en/v4.0.1/build/ol.js" type="text/javascript"></script>
    <script src="{{ url_for('static', filename='bower_components/jquery/dist/jquery.min.js') }}"></script>
    <script src="{{ url_for('static', filename='scripts/js/bundle.js') }}"></script>

    <script type="text/javascript">

    var styles = {
        'route': new ol.style.Style({
          stroke: new ol.style.Stroke({
            width: 6, color: [237, 212, 0, 0.8]
          })
        }),
        'icon': new ol.style.Style({
          image: new ol.style.Icon({
            anchor: [0.5, 1],
            src: 'https://openlayers.org/en/v4.0.1/examples/data/icon.png'
          })
        }),
        'geoMarker': new ol.style.Style({
          image: new ol.style.Circle({
            radius: 7,
            snapToPixel: false,
            fill: new ol.style.Fill({color: 'black'}),
            stroke: new ol.style.Stroke({
              color: 'white', width: 2
            })
          })
        })
      };

    var startMarker = new ol.Feature({
      type: 'icon',
      geometry: new ol.geom.Point(ol.proj.transform([-9, 53], 'EPSG:4326',
  'EPSG:3857'))
    });

        var vectorLayer = new ol.layer.Vector({
            source: new ol.source.Vector({
                features: [startMarker]
            }),
            style: function(feature) {

                  return styles[feature.get('type')];
            }
        });

        var map = new ol.Map({
            target: 'map',
            layers: [
                new ol.layer.Tile({
                    source: new ol.source.OSM()
                }),
                vectorLayer
            ],
            view: new ol.View({
                center: ol.proj.fromLonLat([2.3522, 48.8566]),
                zoom: 4
            })
        });

        console.log(map);
    </script>
</body>

</html>
